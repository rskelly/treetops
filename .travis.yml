sudo: required
dist: precise
language: cpp

matrix:
  include:
    - compiler: gcc
      addons:
        apt:
          sources:
            - ubuntu-toolchain-r-test
            - llvm-toolchain-precise-3.6
          packages:
            - gcc-5
            - g++-5
      env: COMPILER=g++-5

branches: big_refactor

install: 
 - wget https://github.com/LASzip/LASzip/releases/download/v2.2.0/laszip-src-2.2.0.tar.gz
 - tar -xzf laszip-src-2.2.0.tar.gz
 - ls
 - cd laszip-src-2.2.0
 - ./configure && make && sudo make install
 - cd ..
 - sudo apt-get install python-software-properties
 - sudo add-apt-repository ppa:george-edison55/cmake-3.x
 - sudo apt-get update -qq
 - sudo apt-get upgrade -y
 - sudo apt-get install -y libproj-dev libboost-system-dev libboost-filesystem-dev libgdal-dev libgeos-dev 
 - sudo apt-get install -y liblas-dev liblas-c-dev liblas-bin libeigen3-dev 

script: 
 - mkdir makefiles
 - cd makefiles
 - cmake -DCMAKE_CXX_COMPILER=$COMPILER ..
 - make
 - cd ../tests
 - ./run_tests.sh

  
