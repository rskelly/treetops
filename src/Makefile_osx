LIB=-L/usr/local/Cellar/mpfr/3.1.3/lib -L/usr/local/Cellar/gmp/6.1.0/lib -L/usr/lib -L/usr/local/lib
CXXFLAGS=-I../include -I/usr/local/Cellar/mpfr/3.1.3/include -I/usr/local/Cellar/mpfr/3.1.3/include -I/usr/include -I/usr/local/include -I/usr/local/Cellar/geos/3.5.0/include -I/usr/local/Cellar/boost/1.59.0/include -std=c++11
CFLAGS=-I../include -I/usr/include
CPP=g++
CC=gcc

.PHONY: interp

all: mosaic lasstats lasmerge lasgrid
debug: mosaic_debug laststats_debug lasmerge_debug lasgrid_debug

mosaic:
	$(CPP) $(CXXFLAGS) -Wall -O3 mosaic.cpp $(LIB) -lgdal -o ../bin/mosaic

mosaic_debug:
	$(CPP) $(CXXFLAGS) -Wall -g mosaic.cpp $(LIB) -lgdal -o ../bin/mosaic
	
lasstats:
	$(CPP) $(CXXFLAGS) -Wall -O3 lasstats.cpp $(LIB) -llas -lgdal -lproj -lgeos -o ../bin/lasstats

lasstats_debug:
	$(CPP) $(CXXFLAGS) -Wall -g lasstats.cpp $(LIB) -llas -lgdal -lproj -lgeos -o ../bin/lasstats
	
lasmerge:
	$(CPP) $(CXXFLAGS) -Wall -O3 lasmerge.cpp $(LIB) -llas -lgdal -lgeos -lboost_system -o ../bin/lasmerge

lasmerge_debug:
	$(CPP) $(CXXFLAGS) -Wall -g lasmerge.cpp $(LIB) -llas -lgdal -lgeos  -o ../bin/lasmerge
	
lasgrid:
	$(CPP) $(CXXFLAGS) -Wall -O3 lasgrid.cpp $(LIB) -llas -lgdal -lboost_system -o ../bin/lasgrid

lasgrid_debug:
	$(CPP) $(CXXFLAGS) -Wall -g lasgrid.cpp $(LIB) -llas -lgdal -lboost_system -o ../bin/lasgrid
	
las2csrs:
	$(CPP) $(CXXFLAGS) -Wall -O3 las2csrs.cpp $(LIB) -llas -lgdal -lboost_system -lboost_filesystem -lproj -o ../bin/las2csrs

las2csrs_debug:
	$(CPP) $(CXXFLAGS) -Wall -g las2csrs.cpp $(LIB) -llas -lgdal -lboost_system -lboost_filesystem -lproj -o ../bin/las2csrs
	
rastfit:
	$(CPP) $(CXXFLAGS) -Wall -O3 -DWITH_CGAL interp/Interpolators.cpp rastfit.cpp $(LIB) -lgdal -lmpfr -lgmp -lCGAL -lCGAL_Core -lboost_thread-mt -o ../bin/rastfit

rastfit_debug:
	$(CPP) $(CXXFLAGS) -Wall -g -DWITH_CGAL interp/Interpolators.cpp rastfit.cpp $(LIB) -lgdal -lmpfr -lgmp -lCGAL -lCGAL_Core -lboost_thread-mt -o ../bin/rastfit
	
interp:
	$(CPP) $(CXXFLAGS) -Wall -O3 -DWITH_CGAL interp/Interpolators.cpp interp.cpp $(LIB) -lgdal -lmpfr -lgmp -lCGAL -lCGAL_Core -lboost_thread-mt -o ../bin/interp

interp_debug:
	$(CPP) $(CXXFLAGS) -Wall -g -DWITH_CGAL interp/Interpolators.cpp interp.cpp $(LIB) -lgdal -lmpfr -lgmp -lCGAL -lCGAL_Core -lboost_thread-mt -o ../bin/interp
	
proj_ellips:
	$(CC) $(CFLAGS) -Wall -g proj_ellips.c $(LIB) -o ../bin/proj_ellips


clean:
	rm ../bin/*
